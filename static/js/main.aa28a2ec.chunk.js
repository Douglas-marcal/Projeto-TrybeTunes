(this["webpackJsonptrybe-tunes-project"]=this["webpackJsonptrybe-tunes-project"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(26),s=n.n(c),r=(n(34),n(2)),o=n(3),l=n(4),u=n(5),j=n(9),d=n(7),b=n(29),h=n(6),m=n(22),O="user",f=function(e){return localStorage.setItem(O,JSON.stringify(e))},p=function(e){return function(t){setTimeout((function(){t(e)}),1500)}},v=function(){return new Promise((function(e){var t=JSON.parse(localStorage.getItem(O));null===t&&(t={}),p(t)(e)}))},g=(n(35),n(0)),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return this.props.isHeader?Object(g.jsxs)("h4",{className:"loading",children:[Object(g.jsx)("span",{className:"separator",children:"|"}),"Carregando..."]}):Object(g.jsx)("h1",{className:"loading-content",children:"Carregando..."})}}]),n}(a.Component);x.defaultProps={isHeader:!1};var N=x,k=(n(37),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={isLoading:!1},e.getUserName=e.getUserName.bind(Object(h.a)(e)),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getUserName()}},{key:"getUserName",value:function(){var e=this;this.setState({isLoading:!0},(function(){v().then((function(t){var n=t.name;e.setState((function(){return{name:n,isLoading:!1}}))}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.isLoading;return Object(g.jsxs)("header",{className:"header-container",children:[Object(g.jsx)("h2",{children:"S\xf3 Sucesso \u26a1"}),Object(g.jsxs)("div",{className:"nav-bar",children:[n?Object(g.jsx)(N,{isHeader:!0}):Object(g.jsxs)("h4",{className:"user-name",children:[Object(g.jsx)("span",{className:"separator",children:"|"}),t]}),Object(g.jsxs)("ul",{className:"menu-container",children:[Object(g.jsx)(j.c,{to:"/search",style:function(e){return{color:e?"yellow":"white"}},children:Object(g.jsx)("li",{children:"Pesquisa"})}),Object(g.jsx)(j.c,{to:"/favorites",style:function(e){return{color:e?"yellow":"white"}},children:Object(g.jsx)("li",{children:"Favoritos"})}),Object(g.jsx)(j.c,{to:"/profile",style:function(e){return{color:e?"yellow":"white"}},children:Object(g.jsx)("li",{children:"Perfil"})})]})]})]})}}]),n}(a.Component)),y=n(21),S="favorite_songs";JSON.parse(localStorage.getItem(S))||localStorage.setItem(S,JSON.stringify([]));var I=function(){return JSON.parse(localStorage.getItem(S))},F=function(e){return localStorage.setItem(S,JSON.stringify(e))},L=function(e){return function(t){setTimeout((function(){t(e)}),500)}},C=function(){return new Promise((function(e){var t=I();L(t)(e)}))},w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={isLoading:!0,songData:[]},a.addFavoriteSong=a.addFavoriteSong.bind(Object(h.a)(a)),a.removeFavoriteSong=a.removeFavoriteSong.bind(Object(h.a)(a)),a.getFavoriteSong=a.getFavoriteSong.bind(Object(h.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getFavoriteSong()}},{key:"getFavoriteSong",value:function(){var e=this;C().then((function(t){e.setState((function(){return{songData:t,isLoading:!1}}))}))}},{key:"addFavoriteSong",value:function(e){var t,n=this,a=e.target,i=a.checked,c=a.id;if(i){this.setState({isLoading:!0});var s=this.props.playlist.find((function(e){return+e.trackId===+c}));(t=s,new Promise((function(e){if(t){var n=I();F([].concat(Object(y.a)(n),[t]))}L("OK")(e)}))).then((function(){n.setState((function(e){return{isLoading:!1,songData:[].concat(Object(y.a)(e.songData),[s])}}))}))}}},{key:"removeFavoriteSong",value:function(e){var t,n=this,a=e.target,i=a.checked,c=a.id;if(!i){this.setState({isLoading:!0});var s=this.props.playlist.find((function(e){var t=e.trackId;return+c===+t}));(t=s,new Promise((function(e){var n=I();F(n.filter((function(e){return e.trackId!==t.trackId}))),L("OK")(e)}))).then((function(){n.getFavoriteSong()}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.playlist,a=t.checkForUpdate,i=this.state,c=i.isLoading,s=i.songData;return Object(g.jsx)("div",{children:c?Object(g.jsx)(N,{}):Object(g.jsx)("div",{className:"music-card-container",children:n.filter((function(e){return e.trackName})).map((function(t){var n=t.trackName,i=t.previewUrl,c=t.trackId,r=t.artworkUrl100,o=t.collectionName;return Object(g.jsxs)("div",{className:"music-card",children:[Object(g.jsx)("p",{children:n}),Object(g.jsx)("img",{src:r,alt:o}),Object(g.jsxs)("audio",{src:i,controls:!0,children:[Object(g.jsx)("track",{kind:"captions"}),"O seu navegador n\xe3o suporta o elemento"," ",Object(g.jsx)("code",{children:"audio"}),"."]}),Object(g.jsxs)("label",{htmlFor:c,children:["Favorita",Object(g.jsx)("input",{type:"checkbox",className:"favorite-checkbox",id:c,onChange:function(t){e.addFavoriteSong(t),e.removeFavoriteSong(t),a&&a()},checked:s.some((function(e){return e.trackId===c}))})]})]},c)}))})})}}]),n}(a.Component);w.defaultProps={checkForUpdate:void 0};var D=w,P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("ul",{className:"menu-container-mobile",children:[Object(g.jsx)(j.c,{to:"/search",activeClassName:"selected",className:"link",children:Object(g.jsx)("li",{children:"Pesquisa"})}),Object(g.jsx)(j.c,{to:"/favorites",activeClassName:"selected",className:"link",children:Object(g.jsx)("li",{children:"Favoritos"})}),Object(g.jsx)(j.c,{to:"/profile",activeClassName:"selected",className:"link",children:Object(g.jsx)("li",{children:"Perfil"})})]})}}]),n}(a.Component),U=P,q=n(20),M=n(14),A=n.n(M),B=function(){var e=Object(q.a)(A.a.mark((function e(t){var n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itunes.apple.com/lookup?id=".concat(t,"&entity=song"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=B,E=(n(47),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={musics:[]},e.requestMusic=e.requestMusic.bind(Object(h.a)(e)),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.requestMusic()}},{key:"requestMusic",value:function(){var e=this,t=this.props.match.params.id;J(t).then((function(t){e.setState((function(){return{musics:t}}))}))}},{key:"render",value:function(){var e,t,n=this.state.musics,a=Object(b.a)(n,1)[0];return a&&(e=a.artistName,t=a.collectionName),Object(g.jsxs)("div",{className:"page-album",children:[Object(g.jsx)(k,{}),Object(g.jsx)(U,{}),Object(g.jsx)("h2",{children:e}),Object(g.jsx)("h3",{children:t}),Object(g.jsx)(D,{playlist:n})]})}}]),n}(a.Component)),K=(n(48),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={isLoading:!0,favoriteSongs:[]},e.getFavoriteSong=e.getFavoriteSong.bind(Object(h.a)(e)),e.checkForUpdate=e.checkForUpdate.bind(Object(h.a)(e)),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getFavoriteSong()}},{key:"getFavoriteSong",value:function(){var e=this;C().then((function(t){e.setState({favoriteSongs:t,isLoading:!1})}))}},{key:"checkForUpdate",value:function(){this.getFavoriteSong()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.favoriteSongs;return Object(g.jsxs)("div",{className:"page-favorites",children:[Object(g.jsx)(k,{}),Object(g.jsx)(U,{}),n.length?Object(g.jsx)("h2",{children:"M\xfasicas Favoritas"}):Object(g.jsx)("h2",{children:"N\xe3o h\xe1 m\xfasicas favoritas"}),t?Object(g.jsx)(N,{}):Object(g.jsx)("div",{children:Object(g.jsx)(D,{playlist:n,checkForUpdate:this.checkForUpdate})})]})}}]),n}(a.Component)),R=(n(49),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={name:"",isInvalidName:!0,isLoading:!1,redirect:!1},e.onClickButtonLogin=e.onClickButtonLogin.bind(Object(h.a)(e)),e.verifyName=e.verifyName.bind(Object(h.a)(e)),e}return Object(o.a)(n,[{key:"onClickButtonLogin",value:function(){var e=this,t=this.state.name;this.setState((function(){return{isLoading:!0}}),(function(){return(n={name:t},new Promise((function(e){f(Object(m.a)(Object(m.a)({},{name:"",email:"",image:"",description:""}),n)),p("OK")(e)}))).then((function(){e.setState((function(){return{redirect:!0}}))}));var n}))}},{key:"verifyName",value:function(e){var t=this,n=e.target.value;this.setState((function(){return{name:n}}),(function(){return t.setState((function(e){return e.name.length>=3?{isInvalidName:!1}:{isInvalidName:!0}}))}))}},{key:"render",value:function(){var e=this.state,t=e.isInvalidName,n=e.isLoading;return e.redirect?Object(g.jsx)(d.a,{to:"/search"}):n?Object(g.jsx)(N,{}):Object(g.jsx)("div",{className:"container-login",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Aqui s\xf3 toca SUCESSO!"}),Object(g.jsxs)("form",{className:"form-container",onSubmit:this.onClickButtonLogin,children:[Object(g.jsx)("input",{type:"text",id:"name-input",className:"name-input",placeholder:"Nome",onChange:this.verifyName}),Object(g.jsx)("button",{type:"submit",className:"submit-button",disabled:t,children:"Entrar"})]})]})})}}]),n}(a.Component)),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{})}}]),n}(a.Component),H=T,_=(n(50),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={isLoading:!0,userInfo:{}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){e.setState({userInfo:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.userInfo,n=e.isLoading;return Object(g.jsxs)("div",{className:"container-page-profile",children:[Object(g.jsx)(k,{}),Object(g.jsx)(U,{}),n?Object(g.jsx)(N,{}):Object(g.jsxs)("div",{className:"page-profile",children:[Object(g.jsxs)("div",{className:"image-button-container",children:[t.image?Object(g.jsx)("img",{src:t.image,alt:"Foto de ".concat(t.name),className:"profile-image"}):Object(g.jsx)("img",{src:"https://cdn.pixabay.com/photo/2016/03/31/14/47/avatar-1292817_1280.png",alt:"Foto de ".concat(t.name),className:"profile-image"}),Object(g.jsx)(j.b,{to:"/profile/edit",children:Object(g.jsx)("button",{type:"button",className:"button-edit-profile",children:"Editar perfil"})})]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{children:"Nome: "}),t.name]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{children:"E-mail: "}),t.email]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{children:"Descri\xe7\xe3o: "}),t.description]})]})]})}}]),n}(a.Component)),z=n(19),G=(n(51),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={isLoading:!0,isDisabled:!0},e.updateInfos=e.updateInfos.bind(Object(h.a)(e)),e.checkButton=e.checkButton.bind(Object(h.a)(e)),e.saveChanges=e.saveChanges.bind(Object(h.a)(e)),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){var n=t.name,a=t.email,i=t.image,c=t.description;e.setState({name:n,email:a,image:i,description:c,isLoading:!1},(function(){e.checkButton()}))}))}},{key:"checkButton",value:function(){var e=this.state,t=e.name,n=e.email,a=e.image,i=e.description;t.length>0&&n.length>0&&n.includes("@")&&a.length>0&&i.length>0?this.setState({isDisabled:!1}):this.setState({isDisabled:!0})}},{key:"saveChanges",value:function(){var e=this,t=this.state,n=t.name,a=t.email,i=t.image,c=t.description;this.setState({isLoading:!0},(function(){var t;(t={name:n,email:a,image:i,description:c},new Promise((function(e){f(Object(m.a)({},t)),p("OK")(e)}))).then((function(){e.setState({redirect:!0})}))}))}},{key:"updateInfos",value:function(e){var t=this,n=e.target,a=n.value,i=n.name;this.setState((function(){return Object(z.a)({},i,a)}),(function(){return t.checkButton()}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.name,a=e.email,i=e.description,c=e.image,s=e.isDisabled;return e.redirect?Object(g.jsx)(d.a,{to:"/profile"}):Object(g.jsxs)("div",{className:"page-profile-edit",children:[Object(g.jsx)(k,{}),Object(g.jsx)(U,{}),t?Object(g.jsx)(N,{}):Object(g.jsx)("div",{className:"profile-edit",children:Object(g.jsxs)("form",{className:"form-edit-container",onSubmit:this.saveChanges,children:[Object(g.jsxs)("div",{className:"image-url-container",children:[Object(g.jsx)("img",{src:c,alt:"Foto de ".concat(n),className:"profile-image"}),Object(g.jsxs)("label",{htmlFor:"image",className:"label-image",children:["URL da imagem:",Object(g.jsx)("input",{type:"text",name:"image",value:c,onChange:this.updateInfos,placeholder:"Insira a URL da imagem",className:"input-image"})]})]}),Object(g.jsxs)("label",{htmlFor:"name",children:["Nome:",Object(g.jsx)("input",{type:"text",name:"name",id:"name",value:n,onChange:this.updateInfos,placeholder:"Nome",className:"input-100"})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"email",children:["Email:",Object(g.jsx)("input",{type:"text",name:"email",value:a,onChange:this.updateInfos,placeholder:"E-mail",className:"input-100"})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"description",children:["Descri\xe7\xe3o:",Object(g.jsx)("textarea",{placeholder:"Descri\xe7\xe3o",value:i,onChange:this.updateInfos,name:"description",id:"description",cols:"20",rows:"5",className:"input-100 description"})]}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{type:"submit",disabled:s,className:"button-save-profile",children:"Salvar Altera\xe7\xf5es"})]})})]})}}]),n}(a.Component)),Q=function(){var e=Object(q.a)(A.a.mark((function e(t){var n,a,i,c,s,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURI(t).replaceAll("%20","+"),a="https://itunes.apple.com/search?entity=album&term=".concat(n),e.next=4,fetch(a);case 4:return i=e.sent,e.next=7,i.json();case 7:return c=e.sent,s=c.results,r=s.map((function(e){return{artistId:e.artistId,artistName:e.artistName,collectionId:e.collectionId,collectionName:e.collectionName,collectionPrice:e.collectionPrice,artworkUrl100:e.artworkUrl100,releaseDate:e.releaseDate,trackCount:e.trackCount}})),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=Q,W=(n(52),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={artists:"",buttonDisabled:!0,isLoading:!1,responseAPI:!1,textFieldLetters:""},e.validateInput=e.validateInput.bind(Object(h.a)(e)),e.requestAPI=e.requestAPI.bind(Object(h.a)(e)),e}return Object(o.a)(n,[{key:"requestAPI",value:function(){var e=this;this.setState((function(e){var t=e.textFieldLetters;return{isLoading:!0,artists:t,buttonDisabled:t.length<2,textFieldLetters:""}}),(function(){var t=e.state.artists;V(t).then((function(t){e.setState((function(){return{isLoading:!1,responseAPI:!0,albums:t}}))}))}))}},{key:"validateInput",value:function(e){var t=this,n=e.target.value;this.setState((function(){return{textFieldLetters:n}}),(function(){return t.setState((function(e){return{buttonDisabled:e.textFieldLetters.length<2}}))}))}},{key:"render",value:function(){var e=this.state,t=e.albums,n=e.artists,a=e.buttonDisabled,i=e.isLoading,c=e.responseAPI,s=e.textFieldLetters;return Object(g.jsxs)("div",{className:"page-search",children:[Object(g.jsx)(k,{}),Object(g.jsx)(U,{}),i?Object(g.jsx)(N,{}):Object(g.jsxs)("form",{className:"search-container",onSubmit:this.requestAPI,children:[Object(g.jsx)("input",{type:"text",className:"input-artist",placeholder:"Nome do artista ou banda",value:s,onChange:this.validateInput}),Object(g.jsx)("button",{type:"submit",className:"button-search",disabled:a,children:"Pesquisar"})]}),c&&t.length&&Object(g.jsxs)("div",{className:"results-container",children:[Object(g.jsx)("h3",{className:"result-title",children:"Resultado de \xe1lbuns de: ".concat(n)}),Object(g.jsx)("div",{className:"albums-container",children:t.map((function(e){var t=e.collectionId,n=e.artistName,a=e.collectionName,i=e.artworkUrl100;return Object(g.jsx)(j.b,{className:"album",to:"/album/".concat(t),children:Object(g.jsxs)("div",{className:"album-container",children:[Object(g.jsx)("h3",{children:n}),Object(g.jsx)("h5",{children:a}),Object(g.jsx)("img",{src:i,alt:a})]})},t)}))})]}),c&&!t.length&&Object(g.jsx)("h1",{children:"Nenhum \xe1lbum foi encontrado"})]})}}]),n}(a.Component)),X=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsx)(j.a,{basename:"/Projeto-TrybeTunes",children:Object(g.jsxs)(d.d,{children:[Object(g.jsx)(d.b,{exact:!0,path:"/",component:R}),Object(g.jsx)(d.b,{path:"/search",component:W}),Object(g.jsx)(d.b,{path:"/album/:id",component:E}),Object(g.jsx)(d.b,{path:"/favorites",component:K}),Object(g.jsx)(d.b,{path:"/profile/edit",component:G}),Object(g.jsx)(d.b,{path:"/profile",component:_}),Object(g.jsx)(d.b,{path:"*",component:H})]})})}}]),n}(i.a.Component),Y=X;s.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(Y,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.aa28a2ec.chunk.js.map